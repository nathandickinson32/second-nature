Endpoints and JSON Objects - Maintenance Tickets

Create
/maintenance-ticket/create
Request Type: PUT
Inserts a new maintenance ticket into the database. 
HTTP Status: 201 CREATED
Expects: Create Maintenance Ticket DTO JSON Object.
Returns: Maintenance Ticket JSON Object.

Read
/maintenance-tickets/all
Request Type: GET
Returns all maintenance tickets from the database.
HTTP Status: 200 OK
Expects: Nothing
Returns: An array of maintenance ticket JSON objects.

/maintenance-ticket/{id}
Request Type: GET
Returns a specific maintenance ticket from the database.
HTTP Status: 200 OK
Expects: Equipment ID as a path variable.
Returns: An Maintenance Ticket JSON Object.

Update
/maintenance-ticket/update
Request Type: POST
Updates the maintenance ticket in the database
HTTP Status: 202 Accepted
Expects: An Update Maintenance Ticket DTO JSON Object.
Returns: The updated Maintenance Ticket JSON Object.

/maintenance-ticket/complete
Request Type: POST
Updates the maintenance ticket "is_complete" field to true, "date_completed" to the current date, and "completed_by" to the currently logged in user ID.
HTTP Status: 202 Accepted
Expects: A Complete Maintenance Ticket DTO JSON Object.
Returns: The updated maintenance ticket JSON object.

Delete
/maintenance-ticket/delete/{id}
Request Type: DELETE
Deletes the maintenance ticket from the database.
HTTP Status: 200 OK
Expects: The Maintenance Ticket ID as a path variable.
Returns: Nothing

/maintenance-ticket/archive/{id}
Request Type: POST
Updates the Maintenance Ticket "is_archived" field to true.
HTTP Status: 202 Accepted
Expects: The maintenance ticket id as a path variable.
Returns: Nothing.

JSON Objects
Maintenance Ticket
{
	"ticketId" : -1,
	"hours" : -1,
	"enteredByUserId" : -1,
	"date" : "2024-08-14",
	"notes" : "Notes about the ticket", // Not required.
	"complete" : false,
	[
		{ Maintenance Performed JSON Object array }
	]
}

Maintenance Performed
{
	"maintenancePerformedId" : -1,
	"equipmentId" : -1,
	"ticketId" : -1,
	"description" : "What was done",
	"performedBy" : "Person or Vendor",
	"notes" : "Note about the maintenance" // Not Required
}

Create Maintenance Ticket DTO
{
	"equipmentId" : -1.
	"hours" : -1,
	"notes" : "Notes about the ticket.",
	"complete" : false,
	[
		{ Maintenance Performed JSON Object array }
	]
}
// Entered by user id and date is added on the server side.

Create Maintenance Performed DTO
{
	"equipmentId" : -1,
	"description" : "What is being done."",
	"preformedBy" : "Person or vendor performing the maintenance.",
	"notes" : "Misc notes about the ticket or equipment."
}

Update Maintenance Ticket DTO
{
	"notes" : "Updated notes",
	"complete" : false,
	[
		{ Maintenance Performed JSON Object array }
	]
}
// Updated by user id and updated on date is added on the server side.

	     **For Front End Update MX Ticket**
data() {
    return: {
	maintenanceTicket: {
	   maintenancePerformed: [ALREADY_IN_DATABASE]
	},
	additionalMaintenancePerformed: [V-MODEL_TO_INPUT_FIELDS],
	maintenanceUpdateDTO: {}
    }
}
methods:
maintenanceService.updateMaintenanceTicket() {
	maintenanceUpdateDTO.notes = this.maintenanceTicket.notes;
	maintenanceUpdateDTO.complete = this.maintenanceTicket.complete;
	maintenanceUpdateDTO.maintenancePerformed = this.additionalMaintenancePerformed;
};
	     **End Front End Update MX Ticket**



Complete Maintenance Ticket DTO
{
	"ticketId" : -1,
	"complete" : true
}
// Updated by user id and updated on date is added on the server side.

Archive Maintenance Ticket
// Updated by user id and updated on date is added on the server side.